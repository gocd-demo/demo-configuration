{
	"format_version": 2,
	"label_template": "${COUNT}",
	"enable_pipeline_locking": false,
	"name": "json_build_test",
	"template": null,
	"group": "KenTest",

	"materials": [{
		"type": "git",
		"url": "https://github.com/gocd-demo/jy_main_repo.git",
		"name": "mainGit"
	}],
	"stages": [
		{
		"name": "build",
		"fetch_materials": true,
		"jobs": [
			{
			"name": "build",
			"elastic_profile_id": "docker-maven",
			"tasks": [
				{
					"type": "exec",
					"on_cancel": null,
					"command": "mvn",
					"arguments": [
						"clean",
						"compile",
						"-DskipTests"
					],
					"working_directory": null
				}
			]
			}

		]
		}
		{
		"name": "test",
		"fetch_materials": true,
		"jobs": [
			{
			"name": "unit_test",
			"elastic_profile_id": "docker-maven",
			"tasks": [
				{
					"type": "exec",
					"on_cancel": null,
					"command": "mvn",
					"arguments": [
						"clean",
						"test"
					],
					"working_directory": null
				}
			]
			}
			{
			"name": "integration_test",
			"elastic_profile_id": "docker-maven",
			"tasks": [
				{
					"type": "exec",
					"on_cancel": null,
					"command": "mvn",
					"arguments": [
						"clean",
						"test"
					],
					"working_directory": null
				}
			]
			}

		]
		}
	]
}
